[gd_scene load_steps=39 format=3 uid="uid://bqbk4qjsfcv20"]

[ext_resource type="Script" path="res://scripts/world.gd" id="1_wjo8l"]
[ext_resource type="PackedScene" uid="uid://dx5x5ljxp22fg" path="res://scenes/square_room.tscn" id="2_04yut"]
[ext_resource type="PackedScene" uid="uid://cggixt2rmuqrk" path="res://scenes/player.tscn" id="3_gr6f7"]
[ext_resource type="PackedScene" uid="uid://bvka4v8r5qjnb" path="res://scenes/end_portal.tscn" id="4_072hb"]
[ext_resource type="PackedScene" uid="uid://c0hnp5n85ngx0" path="res://scenes/shop_screen.tscn" id="5_u2q0g"]
[ext_resource type="Texture2D" uid="uid://bgcxc026klhjd" path="res://assets/visuals/1x1white.png" id="6_d4sod"]
[ext_resource type="Texture2D" uid="uid://citr5r02xxfdc" path="res://assets/visuals/magic_05.png" id="6_dfln8"]
[ext_resource type="Shader" path="res://assets/shaders/warp.gdshader" id="6_fem7q"]
[ext_resource type="FontFile" uid="uid://tpd5pc8oxjmq" path="res://assets/fonts/ArchivoBlack-Regular.ttf" id="8_8o0vw"]
[ext_resource type="AudioStream" uid="uid://dt6kj8108bu1m" path="res://assets/audio/sfx/win_sound.wav" id="8_iq2m7"]
[ext_resource type="AudioStream" uid="uid://boqtkbbnee2ph" path="res://assets/audio/music/acerola battle 3 Edit 1 Export 1.wav" id="11_uayas"]
[ext_resource type="Shader" path="res://assets/shaders/crt.gdshader" id="11_yjkcm"]
[ext_resource type="AudioStream" uid="uid://cv4vse3slgp2o" path="res://assets/audio/music/acerola jam battle music Edit 1 Export 1.wav" id="12_j8t2i"]
[ext_resource type="AudioStream" uid="uid://dg53gsog34a5a" path="res://assets/audio/music/Jangwa - Jupiter Czar.mp3" id="13_eujvh"]

[sub_resource type="Animation" id="Animation_w4exi"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D2:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(3, 3)]
}

[sub_resource type="Animation" id="Animation_l545i"]
resource_name = "zoom"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D2:zoom")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(3, 3), Vector2(7, 7)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yq67x"]
_data = {
"RESET": SubResource("Animation_w4exi"),
"zoom": SubResource("Animation_l545i")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jkme2"]
shader = ExtResource("6_fem7q")
shader_parameter/intensity = 1.202
shader_parameter/radius = 0.735

[sub_resource type="Gradient" id="Gradient_6d2yq"]
offsets = PackedFloat32Array(0.0740741, 0.145763, 0.261017, 0.359322, 0.477966, 0.583051, 0.684746, 0.79661, 0.918644)
colors = PackedColorArray(0.438471, 0.286389, 0.992214, 1, 0.552941, 0.0352941, 0.866667, 1, 0.431373, 0.301961, 1, 1, 0.215686, 0.0980392, 0.909804, 1, 0.101957, 0.0330053, 0.328648, 1, 0.0937607, 0.0283182, 0.286763, 1, 0.39242, 0.0727494, 0.478069, 1, 0.457452, 0.425812, 0.90736, 1, 0.162226, 0.000109353, 0.515643, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_11dt4"]
noise_type = 3
domain_warp_enabled = true
domain_warp_type = 2
domain_warp_fractal_type = 0
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_fkelk"]
in_3d_space = true
seamless = true
color_ramp = SubResource("Gradient_6d2yq")
noise = SubResource("FastNoiseLite_11dt4")

[sub_resource type="Curve" id="Curve_jsy7l"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.0670926, 0.875796), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_awtk0"]
curve = SubResource("Curve_jsy7l")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_77xck"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(10, 1, 1)
angle_min = -360.0
angle_max = 360.0
direction = Vector3(0, -1, 0)
initial_velocity_min = 150.0
initial_velocity_max = 500.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("CurveTexture_awtk0")
hue_variation_min = -1.0
hue_variation_max = 1.0

[sub_resource type="Animation" id="Animation_72f4w"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_61mh0"]
resource_name = "fade_in"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_vy4g5"]
resource_name = "fade_out"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_oenal"]
_data = {
"RESET": SubResource("Animation_72f4w"),
"fade_in": SubResource("Animation_61mh0"),
"fade_out": SubResource("Animation_vy4g5")
}

[sub_resource type="Animation" id="Animation_jxt8u"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../start_notice2:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_7bivj"]
resource_name = "fade_in"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../start_notice2:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_mop2h"]
resource_name = "fade_out"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../start_notice2:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dx8bw"]
_data = {
"RESET": SubResource("Animation_jxt8u"),
"fade_in": SubResource("Animation_7bivj"),
"fade_out": SubResource("Animation_mop2h")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6ssra"]
bg_color = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_2t8ya"]
resource_name = "RESET"
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:size:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(540.5, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect2:size:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(540.5, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TextureRect2:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(539.5, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_64qfl"]
resource_name = "cover"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:size:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1080, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect2:size:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1080, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TextureRect2:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1079, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="Animation" id="Animation_opvmd"]
resource_name = "uncover"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextureRect:size:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(540.5, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TextureRect2:size:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(540.5, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TextureRect2:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(539.5, -0.25, 0, 0.25, 0, 1079, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qhe4e"]
_data = {
"RESET": SubResource("Animation_2t8ya"),
"cover": SubResource("Animation_64qfl"),
"uncover": SubResource("Animation_opvmd")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l078j"]
shader = ExtResource("11_yjkcm")
shader_parameter/screen_size = Vector2(1280, 180)
shader_parameter/show_curvature = true
shader_parameter/curvature_x_amount = 8.77
shader_parameter/curvature_y_amount = 7.07
shader_parameter/corner_color = Vector4(0, 0, 0, 0)
shader_parameter/show_vignette = true
shader_parameter/vignette_opacity = 0.3
shader_parameter/show_horizontal_scan_lines = true
shader_parameter/horizontal_scan_lines_amount = 100.0
shader_parameter/horizontal_scan_lines_opacity = 0.01
shader_parameter/show_vertical_scan_lines = false
shader_parameter/vertical_scan_lines_amount = 320.0
shader_parameter/vertical_scan_lines_opacity = 1.0
shader_parameter/boost = 1.0
shader_parameter/aberration_amount = 0.0

[node name="world" type="Node2D" groups=["world"]]
script = ExtResource("1_wjo8l")

[node name="SquareRoom" parent="." instance=ExtResource("2_04yut")]

[node name="player" parent="." instance=ExtResource("3_gr6f7")]

[node name="Camera2D2" type="Camera2D" parent="player"]
zoom = Vector2(3, 3)

[node name="camera_player" type="AnimationPlayer" parent="player"]
libraries = {
"": SubResource("AnimationLibrary_yq67x")
}

[node name="EndPortal" parent="." instance=ExtResource("4_072hb")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_mode = 3

[node name="win_screen" type="Control" parent="CanvasLayer"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/win_screen"]
material = SubResource("ShaderMaterial_jkme2")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("NoiseTexture2D_fkelk")

[node name="ColorRect2" type="ColorRect" parent="CanvasLayer/win_screen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0745098, 0.0156863, 0.14902, 0.905882)

[node name="confetti" type="Node2D" parent="CanvasLayer/win_screen"]

[node name="GPUParticles2D" type="GPUParticles2D" parent="CanvasLayer/win_screen/confetti"]
position = Vector2(223, 1013)
emitting = false
amount = 40
process_material = SubResource("ParticleProcessMaterial_77xck")
texture = ExtResource("6_dfln8")
lifetime = 5.0
one_shot = true
speed_scale = 3.0
explosiveness = 1.0
fixed_fps = 60

[node name="GPUParticles2D2" type="GPUParticles2D" parent="CanvasLayer/win_screen/confetti"]
position = Vector2(1731, 1013)
emitting = false
amount = 40
process_material = SubResource("ParticleProcessMaterial_77xck")
texture = ExtResource("6_dfln8")
lifetime = 5.0
one_shot = true
speed_scale = 3.0
explosiveness = 1.0
fixed_fps = 60

[node name="Panel2" type="ColorRect" parent="CanvasLayer/win_screen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -479.0
offset_top = -401.0
offset_right = 479.0
offset_bottom = 401.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.309804, 0.176471, 0.415686, 1)

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/win_screen/Panel2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/win_screen/Panel2/CenterContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="you win" type="RichTextLabel" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 130
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]You Win![/wave][/center]"
fit_content = true
autowrap_mode = 0

[node name="thanks" type="RichTextLabel" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]Thank you for playing![/wave][/center]"
fit_content = true
autowrap_mode = 0

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_top = 70

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="again" type="Button" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 101
text = "Again?"

[node name="MarginContainer2" type="MarginContainer" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_top = 15

[node name="CenterContainer2" type="CenterContainer" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="menu" type="Button" parent="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer2"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 101
text = "Main Menu"

[node name="win_sound" type="AudioStreamPlayer" parent="CanvasLayer/win_screen"]
stream = ExtResource("8_iq2m7")
bus = &"sfx"

[node name="lose_screen" type="Control" parent="CanvasLayer"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/lose_screen"]
material = SubResource("ShaderMaterial_jkme2")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("NoiseTexture2D_fkelk")

[node name="ColorRect2" type="ColorRect" parent="CanvasLayer/lose_screen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0745098, 0.0156863, 0.14902, 0.905882)

[node name="Panel2" type="ColorRect" parent="CanvasLayer/lose_screen"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -479.0
offset_top = -401.0
offset_right = 479.0
offset_bottom = 401.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.309804, 0.176471, 0.415686, 1)

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/lose_screen/Panel2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/lose_screen/Panel2/CenterContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="you lose" type="RichTextLabel" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 130
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]You died :([/wave][/center]"
fit_content = true
autowrap_mode = 0

[node name="try again" type="RichTextLabel" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]Try again?[/wave][/center]"
fit_content = true
autowrap_mode = 0

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_top = 70

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="again" type="Button" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 101
text = "Of Course!"

[node name="MarginContainer2" type="MarginContainer" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/margin_top = 15

[node name="CenterContainer2" type="CenterContainer" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="menu" type="Button" parent="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer2"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 101
text = "Main Menu"

[node name="portal_notice" type="RichTextLabel" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -370.0
offset_top = -55.0
offset_right = 370.0
offset_bottom = 55.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]All enemies killed! Get to the [color=purple]portal[/color]![/wave][/center]"
fit_content = true

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/portal_notice"]
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.129412)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/portal_notice"]
libraries = {
"": SubResource("AnimationLibrary_oenal")
}

[node name="start_notice" type="RichTextLabel" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -370.0
offset_top = -55.0
offset_right = 370.0
offset_bottom = 55.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/normal_font = ExtResource("8_8o0vw")
theme_override_font_sizes/normal_font_size = 70
bbcode_enabled = true
text = "[center][wave amp=50.0 freq=5.0 connected=1]Kill all enemies to proceed![/wave][/center]"
fit_content = true

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/start_notice"]
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.129412)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/start_notice"]
libraries = {
"": SubResource("AnimationLibrary_dx8bw")
}

[node name="start_notice2" type="Label" parent="CanvasLayer"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -290.0
offset_top = 110.0
offset_right = 290.0
offset_bottom = 220.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 36
text = "WASD to move, mouse to aim and left click to shoot!"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="portal_bg" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/portal_bg"]
material = SubResource("ShaderMaterial_jkme2")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("NoiseTexture2D_fkelk")

[node name="ColorRect2" type="ColorRect" parent="CanvasLayer/portal_bg"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0745098, 0.0156863, 0.14902, 0.905882)

[node name="ShopScreen" parent="CanvasLayer" instance=ExtResource("5_u2q0g")]
unique_name_in_owner = true
visible = false

[node name="continue_button" type="Button" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -150.0
offset_top = -128.02
offset_right = 151.0
offset_bottom = -32.0197
grow_horizontal = 2
grow_vertical = 0
theme_override_fonts/font = ExtResource("8_8o0vw")
theme_override_font_sizes/font_size = 80
theme_override_styles/normal = SubResource("StyleBoxFlat_6ssra")
text = "Done"

[node name="transition" type="Control" parent="CanvasLayer"]
z_index = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/transition"]
modulate = Color(0, 0, 0, 1)
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_right = 132480.0
offset_bottom = 540.5
grow_horizontal = 2
texture = ExtResource("6_d4sod")

[node name="TextureRect2" type="TextureRect" parent="CanvasLayer/transition"]
modulate = Color(0, 0, 0, 1)
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 539.5
offset_right = 132480.0
offset_bottom = 1080.0
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("6_d4sod")

[node name="transition_animation" type="AnimationPlayer" parent="CanvasLayer/transition"]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_qhe4e")
}

[node name="floor_timer" type="Timer" parent="."]
wait_time = 0.05

[node name="music" type="Node" parent="."]

[node name="battle_music_2" type="AudioStreamPlayer" parent="music"]
stream = ExtResource("11_uayas")
volume_db = -80.0
autoplay = true
bus = &"music"

[node name="battle_music_1" type="AudioStreamPlayer" parent="music"]
stream = ExtResource("12_j8t2i")
volume_db = -80.0
autoplay = true
bus = &"music"

[node name="battle-Music3" type="AudioStreamPlayer" parent="music"]
stream = ExtResource("13_eujvh")
volume_db = -80.0
autoplay = true
bus = &"music"

[node name="CanvasLayer2" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer2"]
material = SubResource("ShaderMaterial_l078j")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[connection signal="map_generated" from="SquareRoom" to="." method="_on_square_room_map_generated"]
[connection signal="player_died" from="player" to="." method="_on_player_player_died"]
[connection signal="level_ended" from="EndPortal" to="." method="_on_end_portal_level_ended"]
[connection signal="pressed" from="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer/again" to="." method="_on_again_pressed"]
[connection signal="pressed" from="CanvasLayer/win_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer2/menu" to="." method="_on_quit_pressed"]
[connection signal="pressed" from="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer/again" to="." method="_on_again_pressed"]
[connection signal="pressed" from="CanvasLayer/lose_screen/Panel2/CenterContainer/VBoxContainer/CenterContainer2/menu" to="." method="_on_quit_pressed"]
[connection signal="pressed" from="CanvasLayer/continue_button" to="." method="_on_continue_button_pressed"]
[connection signal="timeout" from="floor_timer" to="." method="_on_floor_timer_timeout"]
